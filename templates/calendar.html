{% extends 'base.html' %}

{% block content %}
<div class="container my-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="mb-0">ðŸ“… Exercise Calendar</h1>
        <!-- Back button -->
        <a href="/" class="btn btn-secondary">â¬… Back</a>
    </div>

    <div class="card shadow border-0">
        <div class="card-body">
            <div id='calendar'></div>
        </div>
    </div>
</div>

<!-- FullCalendar CSS & JS -->
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/calendar.css') }}">

<style>
    /* Calendar Container Styling */
    #calendar {
        max-width: 100%;
        margin: 0 auto;
    }
    .fc-daygrid-event {
        font-size: 0.85rem;
        border-radius: 5px;
        padding: 2px 4px;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        events: {{ events|tojson }},
        eventColor: '#007bff',
        eventDisplay: 'block',
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: ''
        },
        navLinks: false, // Click day/week names to navigate
        nowIndicator: true,
        editable: false,
        selectable: false
    });
    calendar.render();
});
</script>
{% endblock %}
